!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AjaxGet=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(e){4!==n.readyState&&n.readyState!==XMLHttpRequest.DONE||(200===n.status?t(n.responseText):console.log("Statut:"+n.status))},n.ontimeout=function(){console.error("Erreur réseau avec l'URL "+e)},n.open("get",e),n.send()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var s=document.querySelector(".station_number"),o=document.querySelector(".station_name"),r=document.querySelector(".station_address"),a=document.querySelector(".available_bikes"),c=document.querySelector(".available_bike_stands"),l=document.querySelector(".banking"),d=document.querySelector(".reservedStationName"),u=document.querySelector(".reservedStationaddress"),h=function(){function e(t,n,i,s,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.number=t,this.name=n,this.address=i,this.available_bikes=s,this.available_bike_stands=o,this.banking=r}return i(e,[{key:"displayStationInfowindow",value:function(){return'<div id="content">\n      <h6>'+this.name+"</h6>\n      <p>"+this.address+'</p>\n      <span class="px-2"><i class="fas fa-bicycle"></i> '+this.available_bikes+'</span>\n      <span class="px-2"><i class="fas fa-parking"></i> '+this.available_bike_stands+"</span>\n      "+(1==this.banking?'<i class="px-2 far fa-credit-card"></i>':'<i class="px-2 light-visibility far fa-credit-card"></i>')+"\n      </div>"}},{key:"displayStationPanelInfo",value:function(){var e=(""+this.name).replace(/[0-9-]/g," ");s.id=""+this.number,o.innerHTML=""+e,r.innerHTML=""+this.address,a.innerHTML=""+this.available_bikes,c.innerHTML=""+this.available_bike_stands,1==this.banking?l.classList.remove("light-visibility"):l.classList.add("light-visibility")}},{key:"displayReservedBikeInfo",value:function(){var e=(""+this.name).replace(/[0-9-]/g," ");d.innerHTML=""+e,u.innerHTML=""+this.address}}]),e}();t.Station=h},function(e,t,n){"use strict";function i(e,t){this.id=document.querySelector(e),this.time_in_minutes=t,this.current_time=Date.parse(new Date),this.date_expiration=Date.parse(new Date(this.current_time+60*this.time_in_minutes*1e3)),this.timeinterval,this.actions()}Object.defineProperty(t,"__esModule",{value:!0}),i.prototype.time_remaining=function(){var e=void 0,t=(e=null!==sessionStorage.getItem("date_expiration")?sessionStorage.getItem("date_expiration")-Date.parse(new Date):this.date_expiration-Date.parse(new Date))/1e3%60,n=Math.floor(e/1e3/60%60);return n<10&&(n="0"+n),t<10&&(t="0"+t),{milliseconds:e,minutes:n,seconds:t}},i.prototype.update_timer=function(){var e=this.time_remaining();sessionStorage.setItem("temps restant",JSON.stringify(e.minutes+" minutes et "+e.seconds+" secondes")),this.id.innerHTML=e.minutes+" min "+e.seconds+"s",e.milliseconds<=0&&(clearInterval(this.timeinterval),sessionStorage.clear(),document.querySelector("#reservedStation").classList.add("d-none"),document.querySelector("#canvas").classList.add("d-none"),document.querySelector("#expiredReservation").classList.remove("d-none"),setTimeout(function(){document.querySelector("#expiredReservation").classList.add("d-none")},5e3))},i.prototype.run_timer=function(){this.update_timer(),this.timeinterval=setInterval(this.update_timer.bind(this),1e3),null===sessionStorage.getItem("date_expiration")&&sessionStorage.setItem("date_expiration",this.date_expiration)},i.prototype.actions=function(){var e=this;document.querySelector(".cancelReservation").addEventListener("click",function(){sessionStorage.clear(),clearInterval(e.timeinterval),document.querySelector("#reservedStation").classList.add("d-none"),document.querySelector("#canvas").classList.add("d-none"),document.querySelector("#cancelReservationSuccess").classList.remove("d-none"),setTimeout(function(){document.querySelector("#cancelReservationSuccess").classList.add("d-none")},5e3)})},t.Timer=i},function(e,t,n){"use strict";var i=n(4),s=n(5),o=n(6),r=n(2);n(7),new i.Slider("#main-slider",".item",5e3),new i.Slider("#footer-slider",".item",5e3);window.init=function(){var e=new s.Map(45.74846,4.84671,12,!1);e.addMap("map","panorama"),e.addMarker("Lyon"),e.addMarkers(),e.addMapListeners(),e.addBoardListeners();var t=new s.Map(48.797859,1.964189,16,!0);t.addMap("map2"),t.addMarker("JC Decaux")};new o.Canvas("#blank",{width:300,height:200});var a=new o.Canvas("#signatureCanvas",{width:300,height:200});if(a.draw(),a.actions(),document.getElementById("menu").addEventListener("click",function(){document.getElementById("mySidenav").style.width="250px"}),document.querySelector(".closebtn").addEventListener("click",function(){document.getElementById("mySidenav").style.width="0"}),$(document).on("click",'a[href^="#"]',function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top-65},500)}),null!==sessionStorage.getItem("date_expiration")){var c=new r.Timer("#clockdiv",20),l=JSON.parse(sessionStorage.getItem("station"));document.querySelector(".reservedStationName").innerHTML=l.name,document.querySelector(".reservedStationaddress").innerHTML=l.address,document.querySelector(".name").innerHTML=localStorage.getItem("firstname")+" "+localStorage.getItem("lastname"),document.getElementById("reservedStation").classList.remove("d-none"),c.run_timer()}$("#popular_rides .image_holder").mouseenter(function(){$(this).find("img").css("opacity","0.1"),$(this).find(".middle_container").css("opacity","1")}),$("#popular_rides .image_holder").mouseleave(function(){$(this).find("img").css("opacity","1"),$(this).find(".middle_container").css("opacity","0")}),console.log("doc ready")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){this.id=document.querySelector(e),this.sliderImages=document.querySelectorAll(e+" "+t),this.current=0,this.arrowRight=document.querySelector(e+" .slider__next"),this.arrowLeft=document.querySelector(e+" .slider__prev"),this.pauseButton=document.querySelector(e+" .slider__action"),this.playing=!0,this.init(),this.actions(),this.slideDuration=n,this.slideinterval,this.playSlideshow()};i.prototype.reset=function(){for(var e=0;e<this.sliderImages.length;e++)this.sliderImages[e].style.display="none"},i.prototype.init=function(){this.reset(),this.sliderImages[0].style.display="flex"},i.prototype.nextSlide=function(){this.current===this.sliderImages.length-1&&(this.current=-1),this.reset(),this.sliderImages[this.current+1].style.display="flex",this.current++},i.prototype.previousSlide=function(){0===this.current&&(this.current=this.sliderImages.length),this.reset(),this.sliderImages[this.current-1].style.display="flex",this.current--},i.prototype.playSlideshow=function(){"main-slider"==this.pauseButton.parentElement.id?this.pauseButton.style.backgroundImage="url('img/pause_red.svg')":this.pauseButton.style.backgroundImage="url('img/pause_white.svg')",this.playing=!0,this.slideinterval=setInterval(this.nextSlide.bind(this),this.slideDuration)},i.prototype.pauseSlideshow=function(){"main-slider"==this.pauseButton.parentElement.id?this.pauseButton.style.backgroundImage="url('img/play-button_red.svg')":this.pauseButton.style.backgroundImage="url('img/play-button_white.svg')",this.playing=!1,clearInterval(this.slideinterval)},i.prototype.actions=function(){var e=this;this.arrowRight.addEventListener("click",function(){e.nextSlide()}),this.arrowLeft.addEventListener("click",function(){e.previousSlide()}),document.addEventListener("keydown",function(t){37===t.which||37===t.keyCode?(0===e.current&&(e.current=e.sliderImages.length),e.previousSlide()):39!==t.which&&39!==t.keyCode||(e.current===e.sliderImages.length-1&&(e.current=-1),e.nextSlide())}),this.pauseButton.addEventListener("click",function(){e.playing?e.pauseSlideshow():e.playSlideshow()})},t.Slider=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0;var i=n(0),s=n(1),o=document.querySelector("#reset-map"),r=document.querySelector("#back-to-map"),a=document.querySelector("#panorama");function c(e,t,n,i){this.map=map,this.panorama=panorama,this.lat=e,this.lng=t,this.zoom=n,this.streetViewControl=i,this.locations}c.prototype.addMap=function(e,t){this.map=new google.maps.Map(document.getElementById(e),{center:{lat:this.lat,lng:this.lng},zoom:this.zoom,streetViewControl:this.streetViewControl}),t&&(this.panorama=new google.maps.StreetViewPanorama(document.getElementById(t),{position:{lat:this.lat,lng:this.lng},pov:{heading:34,pitch:10}}),a.style.display="none")},c.prototype.addMarkers=function(){var e=this;(0,i.AjaxGet)("https://api.jcdecaux.com/vls/v1/stations?contract=Lyon&apiKey=a01bfdb5fbe01d1416417f6509033ca85739897e",function(t){var n=JSON.parse(t).map(function(e){var t="https://chart.googleapis.com/chart?chst=d_map_pin_letter&chld="+e.available_bikes+"|FF776B|000000",n=new google.maps.Marker({position:e.position,icon:t,shadow:"https://chart.googleapis.com/chart?chst=d_map_pin_shadow"}),i=new s.Station(e.number,e.name,e.address,e.available_bikes,e.available_bike_stands,e.banking),o=new google.maps.InfoWindow({content:i.displayStationInfowindow()});return n.addListener("mouseover",function(){setTimeout(function(){o.open(this.map,n)},500)}),n.addListener("mouseout",function(){setTimeout(function(){o.close(this.map,n)},500)}),n.addListener("click",function(){document.getElementById("info-container").style.width="300px",i.displayStationPanelInfo(),0==i.available_bikes?document.querySelector(".button-reserve").classList.add("d-none"):document.querySelector(".button-reserve").classList.remove("d-none")}),n});new MarkerClusterer(e.map,n,{imagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"})})},c.prototype.visitBikeLocationOnMap=function(e){this.panorama.setPosition(e),a.style.display="block",r.style.display="block",o.style.display="none"},c.prototype.visitLocation=function(e){var t=this;(0,i.AjaxGet)("https://api.jcdecaux.com/vls/v1/stations?contract=Lyon&apiKey=a01bfdb5fbe01d1416417f6509033ca85739897e",function(n){var i=JSON.parse(n).filter(function(t){return t.number==e})[0].position;t.visitBikeLocationOnMap(i),google.maps.event.trigger(panorama,"resize")})},c.prototype.addBoardListeners=function(){var e=this;document.querySelector("body").addEventListener("click",function(t){t.target.classList.contains("close")&&(document.getElementById("info-container").style.width="0"),t.target.classList.contains("button-visit")&&e.visitLocation(t.target.parentElement.parentElement.getAttribute("id"))}),document.querySelector(".button-reserve").addEventListener("click",function(){document.querySelector("#canvas").classList.remove("d-none"),document.querySelector(".fname").value=localStorage.getItem("firstname"),document.querySelector(".lname").value=localStorage.getItem("lastname")})},c.prototype.addMapListeners=function(){var e=this;document.querySelector("#reset-map").addEventListener("click",function(){e.map.setCenter({lat:e.lat,lng:e.lng}),e.map.setMapTypeId("roadmap"),e.map.setZoom(12)}),document.querySelector("#back-to-map").addEventListener("click",e.backToMap)},c.prototype.backToMap=function(){document.querySelector("#panorama").style.display="none",document.querySelector("#back-to-map").style.display="none",document.querySelector("#reset-map").style.display="block"},c.prototype.addMarker=function(e){new google.maps.Marker({position:{lat:this.lat,lng:this.lng},map:this.map,title:e})},t.Map=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Canvas=void 0;var i=n(0),s=n(1),o=n(2),r=document.getElementById("clearBtn");function a(e,t){for(var n in this.canvasEl=document.querySelector(e),this.ctx=this.canvasEl.getContext("2d"),this.drawing=!1,this.mousePos={x:0,y:0},this.options=t||{},this.lastPos=this.mousePos,this.defaultOptions)void 0===this.options[n]&&(this.options[n]=this.defaultOptions[n]);this.canvassetStyles(),this.submitBtnClicked=0}a.prototype.canvassetStyles=function(){this.canvasEl.width=this.options.width,this.canvasEl.height=this.options.height},a.prototype.defaultOptions={width:500,height:200},a.prototype.getMousePos=function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}},a.prototype.renderCanvas=function(){this.drawing&&(this.ctx.moveTo(this.lastPos.x,this.lastPos.y),this.ctx.lineTo(this.mousePos.x,this.mousePos.y),this.ctx.stroke(),this.lastPos=this.mousePos)},a.prototype.draw=function(){var e=this;this.canvasEl.addEventListener("mousedown",function(t){e.drawing=!0,e.lastPos=e.getMousePos(e.canvasEl,t)}),this.canvasEl.addEventListener("mouseup",function(t){e.drawing=!1}),this.canvasEl.addEventListener("mousemove",function(t){e.mousePos=e.getMousePos(e.canvasEl,t),e.renderCanvas()}),this.canvasEl.addEventListener("touchstart",function(t){e.drawing=!0,e.lastPos=e.getTouchPos(e.canvasEl,t)}),this.canvasEl.addEventListener("touchend",function(t){e.drawing=!1}),this.canvasEl.addEventListener("touchmove",function(t){e.mousePos=e.getTouchPos(e.canvasEl,t),e.renderCanvas()}),this.canvasEl.addEventListener("touchstart",function(e){e.preventDefault()}),this.canvasEl.addEventListener("touchmove",function(e){e.preventDefault()}),this.canvasEl.addEventListener("touchend",function(e){e.preventDefault()}),this.canvasEl.addEventListener("touchcancel",function(e){e.preventDefault()})},a.prototype.getTouchPos=function(e,t){var n=e.getBoundingClientRect();return{x:t.touches[0].clientX-n.left,y:t.touches[0].clientY-n.top}},a.prototype.actions=function(){var e=this;r.addEventListener("click",function(t){e.clearCanvas()},!1),document.querySelector("#submitBtn").addEventListener("click",function(t){var n=document.querySelector(".fname").value;n=n.replace(/^\s+/,"").replace(/\s+$/,""),localStorage.setItem("firstname",n);var r=document.querySelector(".lname").value;if(r=r.replace(/^\s+/,"").replace(/\s+$/,""),localStorage.setItem("lastname",r),e.canvasEl.toDataURL()==document.getElementById("blank").toDataURL())t.preventDefault(),t.stopImmediatePropagation(),alert("Veuillez signez pour réserver votre vélo");else if(""===n)t.preventDefault(),t.stopImmediatePropagation(),alert("Veuillez renseigner votre prénom");else if(""===r)t.preventDefault(),t.stopImmediatePropagation(),alert("Veuillez renseigner votre nom");else if(document.querySelector(".name").innerHTML=localStorage.getItem("firstname")+" "+localStorage.getItem("lastname")+" ",(0,i.AjaxGet)("https://api.jcdecaux.com/vls/v1/stations?contract=Lyon&apiKey=a01bfdb5fbe01d1416417f6509033ca85739897e",function(e){var t=JSON.parse(e),n=document.querySelector(".station_number"),i=t.filter(function(e){return e.number==n.id}),o=new s.Station(i[0].number,i[0].name,i[0].address,i[0].available_bikes,i[0].available_bike_stands);o.displayReservedBikeInfo(),sessionStorage.setItem("station",JSON.stringify(o))}),e.submitBtnClicked++,e.submitBtnClicked>1)if(null!==sessionStorage.getItem("date_expiration")){if(!confirm("Attention: cette nouvelle réservation remplacera la précédente"))return;sessionStorage.clear(),new o.Timer("#clockdiv",20).run_timer()}else{document.querySelector("#reservedStation").classList.remove("d-none"),new o.Timer("#clockdiv",20).run_timer()}else{document.querySelector("#reservedStation").classList.remove("d-none");var a=new o.Timer("#clockdiv",20);if(null!==sessionStorage.getItem("date_expiration")){if(!confirm("Attention: cette nouvelle réservation remplacera la précédente"))return;sessionStorage.clear(),new o.Timer("#clockdiv",20).run_timer()}else a.run_timer()}})},a.prototype.clearCanvas=function(){this.canvasEl.width=this.canvasEl.width,this.ctx.clearRect(0,0,this.canvasEl.width,this.canvasEl.height)},t.Canvas=a},function(e,t,n){var i,s;
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(o,r){"use strict";i=[n(8)],void 0===(s=function(e){return function(e,t){var n=e.jQuery,i=e.console;function s(e,t){for(var n in t)e[n]=t[n];return e}var o=Array.prototype.slice;function r(e,t,a){if(!(this instanceof r))return new r(e,t,a);var c=e;"string"==typeof e&&(c=document.querySelectorAll(e)),c?(this.elements=function(e){if(Array.isArray(e))return e;if("object"==typeof e&&"number"==typeof e.length)return o.call(e);return[e]}(c),this.options=s({},this.options),"function"==typeof t?a=t:s(this.options,t),a&&this.on("always",a),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):i.error("Bad element for imagesLoaded "+(c||e))}r.prototype=Object.create(t.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&a[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var s=n[i];this.addImage(s)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var r=o[i];this.addElementBackgroundImages(r)}}}};var a={1:!0,9:!0,11:!0};function c(e){this.img=e}function l(e,t){this.url=e,this.element=t,this.img=new Image}return r.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var s=i&&i[2];s&&this.addBackground(s,e),i=n.exec(t.backgroundImage)}},r.prototype.addImage=function(e){var t=new c(e);this.images.push(t)},r.prototype.addBackground=function(e,t){var n=new l(e,t);this.images.push(n)},r.prototype.check=function(){var e=this;function t(t,n,i){setTimeout(function(){e.progress(t,n,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},r.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+n,e,t)},r.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},c.prototype=Object.create(t.prototype),c.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype=Object.create(c.prototype),l.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},r.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new r(this,e,t).jqDeferred.promise(n(this))})},r.makeJQueryPlugin(),r}(o,e)}.apply(t,i))||(e.exports=s)}("undefined"!=typeof window?window:this)},function(e,t,n){var i,s;"undefined"!=typeof window&&window,void 0===(s="function"==typeof(i=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],s=0;s<n.length;s++){var o=n[s];i&&i[o]&&(this.off(e,o),delete i[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?i.call(t,n,t,e):i)||(e.exports=s)}]);